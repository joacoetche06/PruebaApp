<form [formGroup]="form" (ngSubmit)="onSubmit()" class="registro-container">
  <label for="email">Correo electrónico <span class="required">*</span></label>
  <input
    type="email"
    id="email"
    formControlName="email"
    autocomplete="email"
    placeholder="ejemplo@correo.com"
    [class.invalid]="form.get('email')?.invalid && form.get('email')?.touched"
  />
  <div
    *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
    class="error-msg"
  >
    <div *ngIf="form.get('email')?.errors?.['required']">
      El correo es obligatorio.
    </div>
    <div *ngIf="form.get('email')?.errors?.['email']">
      Formato de correo no válido.
    </div>
  </div>

  <label for="password">Contraseña <span class="required">*</span></label>
  <input
    type="password"
    id="password"
    formControlName="password"
    autocomplete="new-password"
    placeholder="********"
  />
  <div
    *ngIf="form.get('password')?.invalid && form.get('password')?.touched"
    class="error-msg"
  >
    <div *ngIf="form.get('password')?.errors?.['required']">
      La contraseña es obligatoria.
    </div>
    <div *ngIf="form.get('password')?.errors?.['pattern']">
      Debe tener al menos 8 caracteres, una mayúscula y un número.
    </div>
  </div>

  <label for="confirmPassword"
    >Confirmar contraseña <span class="required">*</span></label
  >
  <input
    type="password"
    id="confirmPassword"
    formControlName="confirmPassword"
    autocomplete="new-password"
    placeholder="********"
  />
  <div
    *ngIf="
      form.get('confirmPassword')?.invalid &&
      form.get('confirmPassword')?.touched
    "
    class="error-msg"
  >
    Debes confirmar tu contraseña.
  </div>
  <div
    *ngIf="
      form.get('confirmPassword')?.touched &&
      form.get('password')?.value !== form.get('confirmPassword')?.value
    "
    class="error-msg"
  >
    Las contraseñas no coinciden.
  </div>

  <div *ngIf="error" class="error-msg">{{ error }}</div>

  <button type="submit" [disabled]="form.invalid">Registrarse</button>
  <p class="register-link">
    ¿Ya tienes cuenta? <a href="#" (click)="goToLogin($event)">Inicia Sesión</a>
  </p>
</form>
